{
    "version": "0.2.0",
    "configurations": [
        {
            "type": "gdb",
            "request": "attach",
            "name": "Attach to gdbserver",
            "executable": "${workspaceFolder}/src/bootloader/uefi/bin/BOOTX64.EFI",
            "target": ":1234",
            "remote": true,
            "cwd": "${workspaceRoot}",
            "valuesFormatting": "parseText"
        },

        // {
        //     "name": "Debug Bootloader",
        //     "type": "cppdbg",
        //     "request": "launch",
        //     "miDebuggerServerAddress": "127.0.0.1:1234",
        //     // "program": "${workspaceFolder}/src/bootloader/uefi/bin/BOOTX64.EFI",
        //     "program": "${workspaceFolder}/src/bootloader/uefi/bin/BOOTX64.EFI",
        //     // "preLaunchTask": "buildDebugAndDeploy",
        //     "pipeTransport": {
        //         "debuggerPath": "/usr/bin/lldb",
        //         "pipeProgram": "${env:windir}\\system32\\bash.exe",
        //         "pipeArgs": ["-c"],
        //         "pipeCwd": ""
        //     },
        //     "setupCommands": [
        //         {
        //             "description": "Enable pretty-printing for gdb",
        //             "text": "-enable-pretty-printing",
        //             "ignoreFailures": true
        //         }
        //     ]
        // },
        {
            "name": "Debug Bootloader",
            "type": "lldb",
            "request": "launch",
            "program": "${workspaceFolder}/src/bootloader/uefi/bin/BOOTX64.EFI",
            "cwd": "${workspaceFolder}",
            "stopOnEntry": true,
            "initCommands": [
                // "platform select remote-gdb-server",
                "process connect --plugin gdb-remote connect://127.0.0.1:1234"
            ],
            // "preLaunchTask": "Build Debug"
        }
    ]
}